ReImg={OutputProcessor:function(t,e){var n=function(){return 0===t.indexOf("data:image/png")},o=function(t,e){var n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click()};return{toBase64:function(){return t},toImg:function(){var e=document.createElement("img");return e.src=t,e},toCanvas:function(t){var n=document.createElement("canvas"),o=e.getBoundingClientRect();n.width=o.width,n.height=o.height;var a=n.getContext("2d"),r=this.toImg();r.onload=function(){a.drawImage(r,0,0),t(n)}},toPng:function(){if(n()){var e=document.createElement("img");return e.src=t,e}this.toCanvas(function(t){var e=document.createElement("img");return e.src=t.toDataURL(),e})},toJpeg:function(t){!function(t){this.toCanvas(function(e){var n=document.createElement("img");return n.src=e.toDataURL("image/jpeg",t),n})}(t=t||1)},downloadPng:function(e){e=e||"image.png",n()?o(t,e):this.toCanvas(function(t){o(t.toDataURL(),e)})}}},fromSvg:function(t){var e=(new XMLSerializer).serializeToString(t);return new this.OutputProcessor("data:image/svg+xml;base64,"+window.btoa(e),t)},fromCanvas:function(t){var e=t.toDataURL();return new this.OutputProcessor(e)}},"object"==typeof exports&&void 0!==typeof module?module.exports={ReImg:ReImg}:window.ReImg=ReImg;